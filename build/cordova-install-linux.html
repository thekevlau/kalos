<!DOCTYPE html>
<html>
<!--
File: build-cordova-install-linux.html
Description: How to install Cordova on Linux
Author: Mikael Kindborg
Copyright (c) 2013-2014 Evothings AB
-->
<head>
<meta charset="utf-8">
<title>Install Cordova on Linux</title>
<script src="../js/include-viewport.js"></script>
<script src="../js/include-css-scripts.js"></script>
</head>

<body>
<div class="evo-heading">Install Cordova on Linux</div>

<div class="evo-page"><div class="evo-content">

<script src="../js/include-main-menu.js"></script>

<div class="evo-box evo-content-index">
	<script src="../js/include-build-top-menu.js"></script>
	<div class="evo-box">
		<a href="#Introduction">Installing Cordova on Linux</a><br/>
		<a href="#InstallCordova">Install Cordova</a><br/>
		<a href="#InstallJava">Install Java</a><br/>
		<a href="#InstallAnt">Install Ant</a><br/>
		<a href="#InstallAndroidSDKTools">Install Android SDK Tools</a><br/>
		<a href="#IfYouGetStuck">If You Get Stuck</a><br/>
		<a href="#NextStep">The Fun Begins</a><br/>
	</div>
</div>

<div id="Introduction" class="evo-box">
	<h1>Installing Cordova on Linux</h1>
	<p>This document describes how to install Apache Cordova and the Android SDK on a Linux machine. Instructions below are tested on Ubuntu 14.04, on a 32-bit installation. For other versions and Linux distributions, the procedure may differ. </p>
	<p>Please provide your feedback so that we can keep this documentation up to date. You are welcome to ask for help at the <a href="http://forum.evothings.com/">Evothings Forum</a>.</p>

</div>

<div id="InstallCordova" class="evo-box">
	<h2>Install Cordova</h2>

	<p>Follow these steps to install Cordova:</p>
	<ol>
		<li><p><b>Install Node.js.</b> Node.js may already be installed. To test the installation, open a terminal window and type:</p>
		<p><pre>nodejs --version</pre></p>
		<p>If the version number is displayed, Node.js is installed.</p></li>
		<li><p>If Node.js is not installed, install with:</p>
		<p><pre>sudo apt-get install nodejs</pre></p></li>
		<li><p>Also add the alias "node" for nodejs, as this is needed by Cordova:</p>
		<p><pre>sudo ln -s /usr/bin/nodejs /usr/bin/node</pre></p></li>
		<li><p><b>Install Node Package Manager (npm).</b> Test if npm is installed by typing:</p>
		<p><pre>npm --version</pre></p></li>
		<li><p>If npm is not installed, install with:</p>
		<p><pre>sudo apt-get install npm</pre></p></li>
		<li><p><b>Install Git.</b> Git is a version control system, which is used by Cordova behind-the-scenes. Test if Git is installed by typing:</p>
		<p><pre>git --version</pre></p></li>
		<li><p>If Git is not installed, install with:</p>
		<p><pre>sudo apt-get install git</pre></p></li>
		<li><p><b>Install Cordova.</b> Cordova is installed using the Node Package Manager (npm). Type the following to install:</p>
		<p><pre>sudo npm install -g cordova@3.6.3-0.2.13</pre></p></li>
		<li><p>Test the Cordova install by typing:</p>
		<p><pre>cordova --version</pre></p>
		<p>If you see the version number, you have successfully installed Apache Cordova!</p></li>
	</ol>
</div>

<div id="InstallJava" class="evo-box">
	<h2>Install Java</h2>
	<p>The Android SDK needs the Java Development Kit (JDK) to be installed (minimum version 1.6). Note that the Java Runtime Environment (JRE) is not sufficient, you will need the JDK. To check if you have the JDK installed already, type this in a terminal window:</p>
	<p><pre>java -version
javac -version</pre></p>
	<p>If version info is displayed, you have Java installed, but you may want to use the Oracle JDK, rather than the OpenJDK that comes with many Linux distributions. The Oracle JDK is needed for signing Android apps.</p>
	<p>If you wish to install the Oracle JDK, proceed as follows (the steps below are based on a <a href="http://www.wikihow.com/Install-Oracle-Java-JDK-on-Ubuntu-Linux">guide from wikiHow</a>):</p>
	<ol>
		<li><p>Start by removing the OpenJDK:</p>
		<p><pre>sudo apt-get purge openjdk-\*
sudo apt-get autoremove</pre></p></li>
		<li><p>Find out if you have a 32-bit och 64-bit Linux version:</p>
		<p><pre>file /sbin/init</pre></p></li>
		<p>If you run 64-bit Linux, you should install 32-bit libraries (Android SDK will need this):</p>
		<p><pre>sudo apt-get install ia32-libs</pre></p></li>
		<li><p>Download the <a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">JDK (Java SE Development Kit)</a>. The download file ends with <b>.tar.gz</b>. For 32-bit systems get the "Linux x86" download, for 64-bit systems get the "Linux x64" download.</p></li>
		<li><p>The downloaded file is typically saved to the folder "Download" in your home directory. The following steps create an installation directory and unpack the JDK files there. You can pick any directory for the install, we will use the directory "java" in the home folder. Replace "jdk-8u11-linux-i586.tar.gz" with the name of the file you just downloaded.</p>
		<p><pre>mkdir -p ~/java
cd  ~/Downloads
mv jdk-8u11-linux-i586.tar.gz ~/java
cd ~/java
tar xvzf jdk-8u11-linux-i586.tar.gz
rm jdk-8u11-linux-i586.tar.gz</pre></p></li>
		<li><p>Check the name of the JDK install directory with:</p>
		<p><pre>ls</pre></p>
		<p>The path to the JDK becomes "~/java/jdk1.8.0_11" where "jdk1.8.0_11" is the name displayed by the ls command.</p></li>
		<li><p>Add the path to the JDK by editing <b>.bashrc</b> in your home directory. You can use for example nano or gedit for this:</p>
		<p><pre>nano ~/.bashrc</pre></p>
		<p>or:</p>
		<p><pre>gedit ~/.bashrc</pre></p></li>
		<li><p>Add the following to the end of the file (replace "jdk1.8.0_11" with the actual folder name!):</p>
		<p><pre>JAVA_HOME=~/java/jdk1.8.0_11
PATH=$PATH:~/java/jdk1.8.0_11/bin
export JAVA_HOME
export PATH</pre></p></li>
	<li><p>Edit the <b>.bash_profile</b> file to load .bashrc. Opening a terminal windows runs .bash_profile, and we want our path settings to be available in the terminal. If not already present, add the following lines to .bash_profile (se nano or gedit as above):</p>
		<p><pre>if [ -f ~/.bashrc ]; then
   source ~/.bashrc
fi</pre></p></li>
		<li><p>Now you are ready to test the install. Close any open terminal windows, open a new terminal and type:</p>
		<p><pre>javac -version
java -version</pre></p>
		<p>If version info is displayed you are done with the JDK install!</p></li>
	</ol>
</div>

<div id="InstallAnt" class="evo-box">
	<h2>Install Ant</h2>
	<p><a href="http://ant.apache.org/">Apache Ant</a> is a build system for Java, which is used by Cordova and the Android SDK. To install Ant, follow these steps:</p>
	<ol>
		<li><p>Download Ant from here: <a href="http://ant.apache.org/bindownload.cgi">ant.apache.org/bindownload.cgi</a>. Get the zip download available at the page. Click the zip-file link for the most recent release, e.g. <b>apache-ant-1.9.4-bin.zip</b>, and save the file to your machine.</p></li>
		<li><p>Unpack the zip file to the directory on your machine where you want Ant to be installed. You can pick any directory for the install, we will use the directory "ant" in the home folder. Here are the commands (make sure you use the actual name of the downloaded zip file):</p>
		<p><pre>mkdir -p ~/ant
cd ~/ant
unzip apache-ant-1.9.4-bin.zip
rm apache-ant-1.9.4-bin.zip
</pre></p></li>
		<li><p>To add Ant to the system path, edit <b>.bashrc</b> to contain the following lines at the end. Again, be careful to use the actual names of the files and folders on your system:</p>
		<p><pre>JAVA_HOME=~/java/jdk1.8.0_11
PATH=$PATH:~/java/jdk1.8.0_11/bin
export JAVA_HOME

ANT_HOME=~/ant/apache-ant-1.9.4
PATH=$PATH:~/ant/apache-ant-1.9.4/bin
export ANT_HOME

export PATH</pre></p></li>
		<li><p>Now test the install. Close the terminal window, open a new terminal (to make settings take effect) and type:</p>
		<p><pre>ant -version</pre></p>
		If you see a version number you have installed Ant successfully!</p></li>
	</ol>
</div>

<div id="InstallAndroidSDKTools" class="evo-box">
	<h2>Install the Android SDK Tools</h2>
	<p>The SDK Tools for Android are used by Cordova to build Android apps. Follow these steps to install the SDK Tools:</p>
	<ol>
		<li><p>Go to the page <a href="http://developer.android.com/sdk">developer.android.com/sdk</a> scroll down the page and click "VIEW ALL DOWNLOADS AND SIZES". Under "SDK Tools Only", click the windows installer file for Linux and download it (this file is named e.g. <b>android-sdk_r23.0.2-linux.tgz</b>).</p></li>
		<li><p>When downloaded, unpack the files. Here are commands for unpacking the Android SDK folder into your home directory:</p>
		<p><pre>cd
mv ~/Downloads/android-sdk_r23.0.2-linux.tgz .
tar zxvf android-sdk_r23.0.2-linux.tgz
rm android-sdk_r23.0.2-linux.tgz</pre></p>
		<p>The unpacked folder is named "android-sdk-linux" as of the release used in this example.</p>
		</li>
		<li><p>The Android SDK Tools need to be added to the system path. Edit <b>.bashrc</b> to contain the following lines at the end. Make sure you use the actual names of the files and folders on your system:</p>
		<p><pre>JAVA_HOME=~/java/jdk1.8.0_11
PATH=$PATH:~/java/jdk1.8.0_11/bin
export JAVA_HOME

ANT_HOME=~/ant/apache-ant-1.9.4
PATH=$PATH:~/ant/apache-ant-1.9.4/bin
export ANT_HOME

PATH=$PATH:~/android-sdk-linux/platform-tools
PATH=$PATH:~/android-sdk-linux/tools

export PATH</pre></p></li>
		<li><p>You need to have the specific Android SDK version used by Cordova. This is done by running the <b>Android SDK Manager</b> by typing the command:</p>
		<p><pre>android</pre></p>
		<p>This launches a window where you can select to install specific Android SDKs.</p>
		<p>First time you launch the Android SDK Manager there will be preset selections. It is recommended to leave these untouched. Also select the entry "Android 4.4.2 (API 19)" is not installed already. This is the version used by the current Cordova 3.5 version. Note that the Android SDK required by Cordova will change in the future, as new versions of Cordova and Android are released. When this happens, open the Android SDK Manager again, and install the required API version(s).</p></li>
		<li><p>To test the install, close the terminal window, open a new terminal and type:
		<pre>adb version</pre>
		This should display version info for the Android Debug Bridge.</p></li>
	</ol>
</div>

<div id="IfYouGetStuck" class="evo-box">
	<h2>If You Get Stuck</h2>
	<p>If you get stuck, consult the documentation at the respective web sites for Cordova, Java, Ant, and Android. The Cordova documentation specific for Android is found here: <a href="http://cordova.apache.org/docs/en/3.6.0/guide_platforms_android_index.md.html">cordova.apache.org/docs/en/3.6.0/guide_platforms_android_index.md.html</a>. You are also welcome to ask for help at the <a href="http://forum.evothings.com/">Evothings Forum</a>.</p>
	<p>One thing to do is to inspect all the environment variables. You can do this from a command window (note that you have to open a new command window after updating environment variables for updated values to be available). This displays the system PATH:</p>
	<p><pre>echo %PATH</pre></p>
	<p>Here is how to inspect the values of JAVA_HOME and ANT_HOME:</p>
	<p><pre>echo %JAVA_HOME
echo %ANT_HOME</pre></p>
</div>

<div id="NextStep" class="evo-box">
	<h2>The Fun Begins</h2>
	<p>Next step is to create and build a Cordova project. Go to the <a href="cordova-guide.html">Cordova Guide</a> to learn more.</p>
</div>

<script src="../js/include-footer.js"></script>

</div></div>
</body>
</html>
